{"ast":null,"code":"/*!\nFullCalendar RRule Plugin v4.4.0\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\nimport { rrulestr, RRule } from 'rrule';\nimport { createPlugin, refineProps, createDuration } from '@fullcalendar/core';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar EVENT_DEF_PROPS = {\n  rrule: null,\n  duration: createDuration\n};\nvar recurring = {\n  parse: function (rawEvent, leftoverProps, dateEnv) {\n    if (rawEvent.rrule != null) {\n      var props = refineProps(rawEvent, EVENT_DEF_PROPS, {}, leftoverProps);\n      var parsed = parseRRule(props.rrule, dateEnv);\n\n      if (parsed) {\n        return {\n          typeData: parsed.rrule,\n          allDayGuess: parsed.allDayGuess,\n          duration: props.duration\n        };\n      }\n    }\n\n    return null;\n  },\n  expand: function (rrule, framingRange) {\n    // we WANT an inclusive start and in exclusive end, but the js rrule lib will only do either BOTH\n    // inclusive or BOTH exclusive, which is stupid: https://github.com/jakubroztocil/rrule/issues/84\n    // Workaround: make inclusive, which will generate extra occurences, and then trim.\n    return rrule.between(framingRange.start, framingRange.end, true).filter(function (date) {\n      return date.valueOf() < framingRange.end.valueOf();\n    });\n  }\n};\nvar main = createPlugin({\n  recurringTypes: [recurring]\n});\n\nfunction parseRRule(input, dateEnv) {\n  var allDayGuess = null;\n  var rrule;\n\n  if (typeof input === 'string') {\n    rrule = rrulestr(input);\n  } else if (typeof input === 'object' && input) {\n    // non-null object\n    var refined = __assign({}, input); // copy\n\n\n    if (typeof refined.dtstart === 'string') {\n      var dtstartMeta = dateEnv.createMarkerMeta(refined.dtstart);\n\n      if (dtstartMeta) {\n        refined.dtstart = dtstartMeta.marker;\n        allDayGuess = dtstartMeta.isTimeUnspecified;\n      } else {\n        delete refined.dtstart;\n      }\n    }\n\n    if (typeof refined.until === 'string') {\n      refined.until = dateEnv.createMarker(refined.until);\n    }\n\n    if (refined.freq != null) {\n      refined.freq = convertConstant(refined.freq);\n    }\n\n    if (refined.wkst != null) {\n      refined.wkst = convertConstant(refined.wkst);\n    } else {\n      refined.wkst = (dateEnv.weekDow - 1 + 7) % 7; // convert Sunday-first to Monday-first\n    }\n\n    if (refined.byweekday != null) {\n      refined.byweekday = convertConstants(refined.byweekday); // the plural version\n    }\n\n    rrule = new RRule(refined);\n  }\n\n  if (rrule) {\n    return {\n      rrule: rrule,\n      allDayGuess: allDayGuess\n    };\n  }\n\n  return null;\n}\n\nfunction convertConstants(input) {\n  if (Array.isArray(input)) {\n    return input.map(convertConstant);\n  }\n\n  return convertConstant(input);\n}\n\nfunction convertConstant(input) {\n  if (typeof input === 'string') {\n    return RRule[input.toUpperCase()];\n  }\n\n  return input;\n}\n\nexport default main;","map":{"version":3,"sources":["/home/dor/Desktop/workspace/queue/node_modules/@fullcalendar/rrule/main.esm.js"],"names":["rrulestr","RRule","createPlugin","refineProps","createDuration","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","EVENT_DEF_PROPS","rrule","duration","recurring","parse","rawEvent","leftoverProps","dateEnv","props","parsed","parseRRule","typeData","allDayGuess","expand","framingRange","between","start","end","filter","date","valueOf","main","recurringTypes","input","refined","dtstart","dtstartMeta","createMarkerMeta","marker","isTimeUnspecified","until","createMarker","freq","convertConstant","wkst","weekDow","byweekday","convertConstants","Array","isArray","map","toUpperCase"],"mappings":"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","sourcesContent":["/*!\nFullCalendar RRule Plugin v4.4.0\nDocs & License: https://fullcalendar.io/\n(c) 2019 Adam Shaw\n*/\n\nimport { rrulestr, RRule } from 'rrule';\nimport { createPlugin, refineProps, createDuration } from '@fullcalendar/core';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar EVENT_DEF_PROPS = {\n    rrule: null,\n    duration: createDuration\n};\nvar recurring = {\n    parse: function (rawEvent, leftoverProps, dateEnv) {\n        if (rawEvent.rrule != null) {\n            var props = refineProps(rawEvent, EVENT_DEF_PROPS, {}, leftoverProps);\n            var parsed = parseRRule(props.rrule, dateEnv);\n            if (parsed) {\n                return {\n                    typeData: parsed.rrule,\n                    allDayGuess: parsed.allDayGuess,\n                    duration: props.duration\n                };\n            }\n        }\n        return null;\n    },\n    expand: function (rrule, framingRange) {\n        // we WANT an inclusive start and in exclusive end, but the js rrule lib will only do either BOTH\n        // inclusive or BOTH exclusive, which is stupid: https://github.com/jakubroztocil/rrule/issues/84\n        // Workaround: make inclusive, which will generate extra occurences, and then trim.\n        return rrule.between(framingRange.start, framingRange.end, true)\n            .filter(function (date) {\n            return date.valueOf() < framingRange.end.valueOf();\n        });\n    }\n};\nvar main = createPlugin({\n    recurringTypes: [recurring]\n});\nfunction parseRRule(input, dateEnv) {\n    var allDayGuess = null;\n    var rrule;\n    if (typeof input === 'string') {\n        rrule = rrulestr(input);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        var refined = __assign({}, input); // copy\n        if (typeof refined.dtstart === 'string') {\n            var dtstartMeta = dateEnv.createMarkerMeta(refined.dtstart);\n            if (dtstartMeta) {\n                refined.dtstart = dtstartMeta.marker;\n                allDayGuess = dtstartMeta.isTimeUnspecified;\n            }\n            else {\n                delete refined.dtstart;\n            }\n        }\n        if (typeof refined.until === 'string') {\n            refined.until = dateEnv.createMarker(refined.until);\n        }\n        if (refined.freq != null) {\n            refined.freq = convertConstant(refined.freq);\n        }\n        if (refined.wkst != null) {\n            refined.wkst = convertConstant(refined.wkst);\n        }\n        else {\n            refined.wkst = (dateEnv.weekDow - 1 + 7) % 7; // convert Sunday-first to Monday-first\n        }\n        if (refined.byweekday != null) {\n            refined.byweekday = convertConstants(refined.byweekday); // the plural version\n        }\n        rrule = new RRule(refined);\n    }\n    if (rrule) {\n        return { rrule: rrule, allDayGuess: allDayGuess };\n    }\n    return null;\n}\nfunction convertConstants(input) {\n    if (Array.isArray(input)) {\n        return input.map(convertConstant);\n    }\n    return convertConstant(input);\n}\nfunction convertConstant(input) {\n    if (typeof input === 'string') {\n        return RRule[input.toUpperCase()];\n    }\n    return input;\n}\n\nexport default main;\n"]},"metadata":{},"sourceType":"module"}